<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="description" content="Ctividad 1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="">
    <style>
        body{
            font-family: "Calibri";
        }
        .container {
            display: flex;
            flex-direction: row;
        }

        .c1 {
            flex-direction: column;
        }
    </style>
</head>

<body>



    <div class="container">
        <div class="c1">
            <h1>Actividad 1</h1>
            <p>Data generada de <a href="https://generatedata.com/generator" target="_blank">
                    https://generatedata.com/generator</a></p>
            <input type="button" value="Generar data" id="generar">
            <table id="tabla" aria-describedat="Lista personas">
                <caption>Lista Personas</caption>
                <thead>
                    <th scope="col">Nombre</th>
                    <th scope="col">Edad</th>
                </thead>
                <tbody id="tbody"></tbody>

            </table>
        </div>
        <div>
            <h2>Info</h2>
            Nombres de personas y su edad en un arreglo
            cantidad de personas en el arreglo?
            ¿Cuantos Juan están en el arreglo?
            ¿Cuál es el promedio de edad de las personas?
            ¿Cuántos mayores de edad hay en el arreglo?
            <ul>
                <li>Personas en la lista <span id="npersonas"></span></li>
                <li>Cuantos Juan hay? <span id="njuan"></span></li>
                <li>Cuantos <input id="nombre" /> hay? <span id="nnombre"></span></li>
                <li>Promedio de edad <span id="avg"></span> años</li>
                <li>¿Cuántos mayores de edad hay en el arreglo?<span id="nmayedad"></span></li>
            </ul>
        </div>
    </div>

    <script type="text/javascript">
        const data = [{ "nombre": "Jaime Kemp", "edad": 26 }, { "nombre": "Juan Booker", "edad": 8 }, { "nombre": "Carl Callahan", "edad": 54 }, { "nombre": "Nayda Battle", "edad": 4 }, { "nombre": "Bell Shields", "edad": 21 }, { "nombre": "Kane Callahan", "edad": 58 }, { "nombre": "Griffith Lowery", "edad": 58 }, { "nombre": "Juan Frazier", "edad": 62 }, { "nombre": "Janna Gentry", "edad": 10 }, { "nombre": "Courtney Middleton", "edad": 66 }, { "nombre": "Erasmus Butler", "edad": 64 }, { "nombre": "Emerald Hines", "edad": 26 }, { "nombre": "Ursula Yang", "edad": 15 }, { "nombre": "Kibo Hooper", "edad": 36 }, { "nombre": "Conan Porter", "edad": 18 }, { "nombre": "Fuller Campbell", "edad": 17 }, { "nombre": "Cecilia Weiss", "edad": 35 }, { "nombre": "Nigel Fulton", "edad": 51 }, { "nombre": "Priscilla Bauer", "edad": 13 }, { "nombre": "Maia Parsons", "edad": 14 }, { "nombre": "Mara Montoya", "edad": 31 }, { "nombre": "Ciara Saunders", "edad": 61 }, { "nombre": "Urielle Snyder", "edad": 2 }, { "nombre": "Barclay Baird", "edad": 36 }, { "nombre": "Akeem Mcconnell", "edad": 40 }, { "nombre": "Jerome Sweet", "edad": 41 }, { "nombre": "Lavinia Tyler", "edad": 28 }, { "nombre": "Scarlet Pratt", "edad": 22 }, { "nombre": "Chester Bradford", "edad": 19 }, { "nombre": "Otto Camacho", "edad": 19 }, { "nombre": "Hall Mccall", "edad": 42 }, { "nombre": "Nola Pate", "edad": 1 }, { "nombre": "Bethany Burke", "edad": 60 }, { "nombre": "Jada Howell", "edad": 67 }, { "nombre": "Kasimir Hernandez", "edad": 7 }, { "nombre": "Jin Holden", "edad": 28 }, { "nombre": "Kameko Trujillo", "edad": 7 }, { "nombre": "Dale Howell", "edad": 8 }, { "nombre": "Ima Bray", "edad": 56 }, { "nombre": "Keefe Bond", "edad": 55 }, { "nombre": "Emerson Fuentes", "edad": 62 }, { "nombre": "Summer Stein", "edad": 35 }, { "nombre": "Dara Navarro", "edad": 20 }, { "nombre": "Dolan Pugh", "edad": 27 }, { "nombre": "Merrill Hayes", "edad": 16 }, { "nombre": "Beatrice Butler", "edad": 29 }, { "nombre": "Vaughan Knight", "edad": 3 }, { "nombre": "Quemby Price", "edad": 67 }, { "nombre": "Alice Clarke", "edad": 49 }, { "nombre": "Caesar Fowler", "edad": 57 }, { "nombre": "Juan Holcomb", "edad": 69 }, { "nombre": "Lavinia Gordon", "edad": 22 }, { "nombre": "Eric Sandoval", "edad": 32 }, { "nombre": "Kamal Burt", "edad": 69 }, { "nombre": "Kasimir Daniel", "edad": 12 }, { "nombre": "Emily Maldonado", "edad": 28 }, { "nombre": "Dolan Poole", "edad": 47 }, { "nombre": "Gannon Anthony", "edad": 21 }, { "nombre": "Ulric Mclaughlin", "edad": 66 }, { "nombre": "Beverly Mccullough", "edad": 12 }, { "nombre": "Cynthia Hardy", "edad": 1 }, { "nombre": "Mara House", "edad": 31 }, { "nombre": "Emma Atkinson", "edad": 22 }, { "nombre": "Shea Lindsey", "edad": 39 }, { "nombre": "Lara Bradshaw", "edad": 68 }, { "nombre": "Amaya Clark", "edad": 31 }, { "nombre": "Keaton Martin", "edad": 60 }, { "nombre": "Dominique West", "edad": 43 }, { "nombre": "Dean Donovan", "edad": 54 }, { "nombre": "Kibo Boyer", "edad": 66 }, { "nombre": "Erich Carroll", "edad": 11 }, { "nombre": "Susan Walter", "edad": 45 }, { "nombre": "Hayes Owen", "edad": 67 }, { "nombre": "Anjolie Aguilar", "edad": 41 }, { "nombre": "Veronica Santana", "edad": 5 }, { "nombre": "Donna Jackson", "edad": 26 }, { "nombre": "Cleo Skinner", "edad": 32 }, { "nombre": "Garrett Hughes", "edad": 21 }, { "nombre": "Darrel Reeves", "edad": 8 }, { "nombre": "Bernard Maddox", "edad": 26 }, { "nombre": "Chandler Fuentes", "edad": 54 }, { "nombre": "Elmo Wiley", "edad": 46 }, { "nombre": "Erin Osborn", "edad": 36 }, { "nombre": "Leo Delaney", "edad": 11 }, { "nombre": "Juan Dale", "edad": 69 }, { "nombre": "Amal Davenport", "edad": 61 }, { "nombre": "Carson Bright", "edad": 48 }, { "nombre": "Zane Nicholson", "edad": 45 }, { "nombre": "Natalie Espinoza", "edad": 49 }, { "nombre": "Cheryl Calhoun", "edad": 28 }, { "nombre": "Colleen Haynes", "edad": 15 }, { "nombre": "Elizabeth Mathews", "edad": 27 }, { "nombre": "Sebastian Justice", "edad": 54 }, { "nombre": "Troy Spencer", "edad": 37 }, { "nombre": "Mufutau Madden", "edad": 3 }, { "nombre": "Elmo Mills", "edad": 68 }, { "nombre": "Aspen Good", "edad": 34 }, { "nombre": "Juan Oneil", "edad": 48 }, { "nombre": "Tatyana Richards", "edad": 5 }, { "nombre": "Len Moon", "edad": 57 }];

        function init(data) {
            //document.getElementById("tbody").innerHTML = data.map(i => `<tr><td>${i.nombre}</td><td>${i.edad}</td></tr>`).join("\n")
            // document.getElementById("npersonas").textContent = data.length;
            // document.getElementById("njuan").textContent = data.filter((i) => i.nombre.indexOf('Juan') >= 0).length;
            // document.getElementById("avg").textContent = data.map((i) => i.edad).reduce((a, b) => a + b, 0) / data.length;

            // document.getElementById("nmayedad").textContent = data.filter((i) => i.edad > 18).length;
            document.getElementById("nombre").onkeyup = (event) => {
                let nombre = event.target.value;
                document.getElementById("nnombre").textContent = data.filter((i) => i.nombre.indexOf(nombre) >= 0).length;
            }
            //fetch('https://generatedata.com/generator').then(i=>console.log(i))
            let suma = 0;
            let nJuan = 0;
            let nmayoriaEdad = 0;
            let filasTabla = '';
            for (let index = 0; index < data.length; index++) {
                const persona = data[index];
                filasTabla += `<tr><td>${persona.nombre}</td><td>${persona.edad}</td></tr>`;
                if (persona.nombre.indexOf("Juan") >= 0) {
                    nJuan++;
                }
                if (persona.edad > 18) {
                    nmayoriaEdad = nmayoriaEdad + 1;
                }
                //suma+=persona.edad
                suma = suma + persona.edad
            }
            document.getElementById("npersonas").textContent = data.length;
            document.getElementById("njuan").textContent = nJuan;
            document.getElementById("avg").textContent = suma / data.length;
            document.getElementById("nmayedad").textContent = nmayoriaEdad;
            document.getElementById("tbody").innerHTML = filasTabla
        }
        init(data);
        document.getElementById("generar").addEventListener("click",(event)=>{
            init(generarData(100))
        });

    </script>
    <script src="./datarandom.js"></script>
</body>

</html>